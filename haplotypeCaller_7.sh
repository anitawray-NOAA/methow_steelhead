#!/bin/bash
#SBATCH --job-name=hap_caller_7
#SBATCH --output=../../logs/hap_caller_7.%A.%a.log
#SBATCH --array=1-200
#SBATCH --exclude=node[21-28]
#SBATCH -t 400:00:00
#SBATCH -c 1
#SBATCH -D /scratch2/mkardos/methowRAD/results/aligned/allSamps

case $SLURM_ARRAY_TASK_ID in
1) IN=L13_72 ;;
2) IN=L13_73 ;;
3) IN=L13_74 ;;
4) IN=L13_75 ;;
5) IN=L13_76 ;;
6) IN=L13_77 ;;
7) IN=L13_78 ;;
8) IN=L13_79 ;;
9) IN=L13_7 ;;
10) IN=L13_80 ;;
11) IN=L13_81 ;;
12) IN=L13_82 ;;
13) IN=L13_83 ;;
14) IN=L13_84 ;;
15) IN=L13_85 ;;
16) IN=L13_86 ;;
17) IN=L13_87 ;;
18) IN=L13_88 ;;
19) IN=L13_89 ;;
20) IN=L13_8 ;;
21) IN=L13_90 ;;
22) IN=L13_91 ;;
23) IN=L13_92 ;;
24) IN=L13_93 ;;
25) IN=L13_94 ;;
26) IN=L13_95 ;;
27) IN=L13_96 ;;
28) IN=L13_9 ;;
29) IN=L14_10 ;;
30) IN=L14_11 ;;
31) IN=L14_12 ;;
32) IN=L14_13 ;;
33) IN=L14_14 ;;
34) IN=L14_15 ;;
35) IN=L14_16 ;;
36) IN=L14_17 ;;
37) IN=L14_18 ;;
38) IN=L14_19 ;;
39) IN=L14_1 ;;
40) IN=L14_20 ;;
41) IN=L14_21 ;;
42) IN=L14_22 ;;
43) IN=L14_23 ;;
44) IN=L14_24 ;;
45) IN=L14_25 ;;
46) IN=L14_27 ;;
47) IN=L14_28 ;;
48) IN=L14_29 ;;
49) IN=L14_2 ;;
50) IN=L14_30 ;;
51) IN=L14_31 ;;
52) IN=L14_32 ;;
53) IN=L14_33 ;;
54) IN=L14_34 ;;
55) IN=L14_35 ;;
56) IN=L14_36 ;;
57) IN=L14_37 ;;
58) IN=L14_38 ;;
59) IN=L14_39 ;;
60) IN=L14_3 ;;
61) IN=L14_40 ;;
62) IN=L14_41 ;;
63) IN=L14_42 ;;
64) IN=L14_43 ;;
65) IN=L14_44 ;;
66) IN=L14_45 ;;
67) IN=L14_46 ;;
68) IN=L14_47 ;;
69) IN=L14_48 ;;
70) IN=L14_49 ;;
71) IN=L14_4 ;;
72) IN=L14_50 ;;
73) IN=L14_51 ;;
74) IN=L14_52 ;;
75) IN=L14_53 ;;
76) IN=L14_54 ;;
77) IN=L14_55 ;;
78) IN=L14_56 ;;
79) IN=L14_57 ;;
80) IN=L14_58 ;;
81) IN=L14_59 ;;
82) IN=L14_5 ;;
83) IN=L14_60 ;;
84) IN=L14_61 ;;
85) IN=L14_62 ;;
86) IN=L14_63 ;;
87) IN=L14_64 ;;
88) IN=L14_65 ;;
89) IN=L14_66 ;;
90) IN=L14_67 ;;
91) IN=L14_68 ;;
92) IN=L14_69 ;;
93) IN=L14_6 ;;
94) IN=L14_70 ;;
95) IN=L14_71 ;;
96) IN=L14_72 ;;
97) IN=L14_73 ;;
98) IN=L14_74 ;;
99) IN=L14_75 ;;
100) IN=L14_76 ;;
101) IN=L14_77 ;;
102) IN=L14_78 ;;
103) IN=L14_79 ;;
104) IN=L14_7 ;;
105) IN=L14_80 ;;
106) IN=L14_81 ;;
107) IN=L14_82 ;;
108) IN=L14_83 ;;
109) IN=L14_84 ;;
110) IN=L14_85 ;;
111) IN=L14_86 ;;
112) IN=L14_87 ;;
113) IN=L14_88 ;;
114) IN=L14_89 ;;
115) IN=L14_8 ;;
116) IN=L14_90 ;;
117) IN=L14_91 ;;
118) IN=L14_92 ;;
119) IN=L14_93 ;;
120) IN=L14_94 ;;
121) IN=L14_95 ;;
122) IN=L14_96 ;;
123) IN=L14_9 ;;
124) IN=L15_10 ;;
125) IN=L15_11 ;;
126) IN=L15_12 ;;
127) IN=L15_13 ;;
128) IN=L15_14 ;;
129) IN=L15_15 ;;
130) IN=L15_16 ;;
131) IN=L15_17 ;;
132) IN=L15_18 ;;
133) IN=L15_19 ;;
134) IN=L15_1 ;;
135) IN=L15_20 ;;
136) IN=L15_21 ;;
137) IN=L15_22 ;;
138) IN=L15_23 ;;
139) IN=L15_24 ;;
140) IN=L15_25 ;;
141) IN=L15_26 ;;
142) IN=L15_27 ;;
143) IN=L15_28 ;;
144) IN=L15_29 ;;
145) IN=L15_2 ;;
146) IN=L15_30 ;;
147) IN=L15_31 ;;
148) IN=L15_32 ;;
149) IN=L15_33 ;;
150) IN=L15_34 ;;
151) IN=L15_35 ;;
152) IN=L15_36 ;;
153) IN=L15_37 ;;
154) IN=L15_38 ;;
155) IN=L15_39 ;;
156) IN=L15_3 ;;
157) IN=L15_40 ;;
158) IN=L15_41 ;;
159) IN=L15_42 ;;
160) IN=L15_43 ;;
161) IN=L15_44 ;;
162) IN=L15_45 ;;
163) IN=L15_46 ;;
164) IN=L15_47 ;;
165) IN=L15_48 ;;
166) IN=L15_49 ;;
167) IN=L15_4 ;;
168) IN=L15_50 ;;
169) IN=L15_51 ;;
170) IN=L15_52 ;;
171) IN=L15_53 ;;
172) IN=L15_54 ;;
173) IN=L15_55 ;;
174) IN=L15_56 ;;
175) IN=L15_57 ;;
176) IN=L15_58 ;;
177) IN=L15_59 ;;
178) IN=L15_5 ;;
179) IN=L15_60 ;;
180) IN=L15_61 ;;
181) IN=L15_62 ;;
182) IN=L15_63 ;;
183) IN=L15_64 ;;
184) IN=L15_65 ;;
185) IN=L15_66 ;;
186) IN=L15_67 ;;
187) IN=L15_68 ;;
188) IN=L15_69 ;;
189) IN=L15_6 ;;
190) IN=L15_70 ;;
191) IN=L15_71 ;;
192) IN=L15_72 ;;
193) IN=L15_73 ;;
194) IN=L15_74 ;;
195) IN=L15_75 ;;
196) IN=L15_76 ;;
197) IN=L15_77 ;;
198) IN=L15_78 ;;
199) IN=L15_79 ;;
200) IN=L15_7 ;;
esac

module load bio/gatk/4.2.0.0
conda activate gatk
 gatk --java-options "-Xmx4g" HaplotypeCaller  \
   -R /scratch2/mkardos/methowWGS/resources/GCA_025558465.1_Omyk_2.0_genomic.fasta \
   -I ${IN}.RG.bam \
   -O ../../gvcf/${IN}.g.vcf.gz \
   -ERC GVCF

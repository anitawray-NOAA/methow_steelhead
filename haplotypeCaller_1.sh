#!/bin/bash
#SBATCH --job-name=hap_caller_1
#SBATCH --output=../../logs/hap_caller_1.%A.%a.log
#SBATCH --array=1-200
#SBATCH -t 400:00:00
#SBATCH -c 1
#SBATCH -D /scratch2/mkardos/methowRAD/results/aligned/allSamps

case $SLURM_ARRAY_TASK_ID in
1) IN=L01_10 ;;
2) IN=L01_11 ;;
3) IN=L01_12 ;;
4) IN=L01_13 ;;
5) IN=L01_14 ;;
6) IN=L01_15 ;;
7) IN=L01_16 ;;
8) IN=L01_17 ;;
9) IN=L01_18 ;;
10) IN=L01_19 ;;
11) IN=L01_1 ;;
12) IN=L01_20 ;;
13) IN=L01_21 ;;
14) IN=L01_22 ;;
15) IN=L01_23 ;;
16) IN=L01_24 ;;
17) IN=L01_25 ;;
18) IN=L01_26 ;;
19) IN=L01_27 ;;
20) IN=L01_29 ;;
21) IN=L01_2 ;;
22) IN=L01_30 ;;
23) IN=L01_31 ;;
24) IN=L01_32 ;;
25) IN=L01_33 ;;
26) IN=L01_34 ;;
27) IN=L01_35 ;;
28) IN=L01_36 ;;
29) IN=L01_37 ;;
30) IN=L01_38 ;;
31) IN=L01_39 ;;
32) IN=L01_3 ;;
33) IN=L01_40 ;;
34) IN=L01_41 ;;
35) IN=L01_42 ;;
36) IN=L01_43 ;;
37) IN=L01_44 ;;
38) IN=L01_45 ;;
39) IN=L01_46 ;;
40) IN=L01_47 ;;
41) IN=L01_48 ;;
42) IN=L01_49 ;;
43) IN=L01_4 ;;
44) IN=L01_50 ;;
45) IN=L01_51 ;;
46) IN=L01_52 ;;
47) IN=L01_54 ;;
48) IN=L01_55 ;;
49) IN=L01_56 ;;
50) IN=L01_57 ;;
51) IN=L01_58 ;;
52) IN=L01_59 ;;
53) IN=L01_5 ;;
54) IN=L01_60 ;;
55) IN=L01_61 ;;
56) IN=L01_62 ;;
57) IN=L01_63 ;;
58) IN=L01_64 ;;
59) IN=L01_65 ;;
60) IN=L01_66 ;;
61) IN=L01_67 ;;
62) IN=L01_68 ;;
63) IN=L01_69 ;;
64) IN=L01_6 ;;
65) IN=L01_70 ;;
66) IN=L01_71 ;;
67) IN=L01_72 ;;
68) IN=L01_73 ;;
69) IN=L01_74 ;;
70) IN=L01_75 ;;
71) IN=L01_76 ;;
72) IN=L01_77 ;;
73) IN=L01_78 ;;
74) IN=L01_79 ;;
75) IN=L01_7 ;;
76) IN=L01_80 ;;
77) IN=L01_81 ;;
78) IN=L01_82 ;;
79) IN=L01_83 ;;
80) IN=L01_84 ;;
81) IN=L01_85 ;;
82) IN=L01_86 ;;
83) IN=L01_87 ;;
84) IN=L01_88 ;;
85) IN=L01_89 ;;
86) IN=L01_8 ;;
87) IN=L01_90 ;;
88) IN=L01_91 ;;
89) IN=L01_92 ;;
90) IN=L01_93 ;;
91) IN=L01_94 ;;
92) IN=L01_95 ;;
93) IN=L01_96 ;;
94) IN=L01_9 ;;
95) IN=L02_10 ;;
96) IN=L02_11 ;;
97) IN=L02_12 ;;
98) IN=L02_13 ;;
99) IN=L02_14 ;;
100) IN=L02_15 ;;
101) IN=L02_16 ;;
102) IN=L02_17 ;;
103) IN=L02_19 ;;
104) IN=L02_20 ;;
105) IN=L02_21 ;;
106) IN=L02_22 ;;
107) IN=L02_24 ;;
108) IN=L02_25 ;;
109) IN=L02_26 ;;
110) IN=L02_27 ;;
111) IN=L02_28 ;;
112) IN=L02_29 ;;
113) IN=L02_2 ;;
114) IN=L02_30 ;;
115) IN=L02_31 ;;
116) IN=L02_32 ;;
117) IN=L02_33 ;;
118) IN=L02_34 ;;
119) IN=L02_35 ;;
120) IN=L02_36 ;;
121) IN=L02_37 ;;
122) IN=L02_38 ;;
123) IN=L02_39 ;;
124) IN=L02_3 ;;
125) IN=L02_40 ;;
126) IN=L02_41 ;;
127) IN=L02_42 ;;
128) IN=L02_43 ;;
129) IN=L02_44 ;;
130) IN=L02_45 ;;
131) IN=L02_46 ;;
132) IN=L02_47 ;;
133) IN=L02_48 ;;
134) IN=L02_49 ;;
135) IN=L02_4 ;;
136) IN=L02_50 ;;
137) IN=L02_51 ;;
138) IN=L02_52 ;;
139) IN=L02_53 ;;
140) IN=L02_54 ;;
141) IN=L02_55 ;;
142) IN=L02_56 ;;
143) IN=L02_57 ;;
144) IN=L02_58 ;;
145) IN=L02_59 ;;
146) IN=L02_5 ;;
147) IN=L02_60 ;;
148) IN=L02_61 ;;
149) IN=L02_63 ;;
150) IN=L02_64 ;;
151) IN=L02_65 ;;
152) IN=L02_66 ;;
153) IN=L02_67 ;;
154) IN=L02_68 ;;
155) IN=L02_69 ;;
156) IN=L02_70 ;;
157) IN=L02_71 ;;
158) IN=L02_72 ;;
159) IN=L02_73 ;;
160) IN=L02_74 ;;
161) IN=L02_75 ;;
162) IN=L02_76 ;;
163) IN=L02_77 ;;
164) IN=L02_78 ;;
165) IN=L02_80 ;;
166) IN=L02_82 ;;
167) IN=L02_83 ;;
168) IN=L02_84 ;;
169) IN=L02_85 ;;
170) IN=L02_86 ;;
171) IN=L02_87 ;;
172) IN=L02_88 ;;
173) IN=L02_89 ;;
174) IN=L02_8 ;;
175) IN=L02_90 ;;
176) IN=L02_91 ;;
177) IN=L02_92 ;;
178) IN=L02_94 ;;
179) IN=L02_95 ;;
180) IN=L02_96 ;;
181) IN=L03_10 ;;
182) IN=L03_11 ;;
183) IN=L03_12 ;;
184) IN=L03_13 ;;
185) IN=L03_14 ;;
186) IN=L03_15 ;;
187) IN=L03_16 ;;
188) IN=L03_17 ;;
189) IN=L03_18 ;;
190) IN=L03_19 ;;
191) IN=L03_1 ;;
192) IN=L03_20 ;;
193) IN=L03_21 ;;
194) IN=L03_22 ;;
195) IN=L03_23 ;;
196) IN=L03_24 ;;
197) IN=L03_25 ;;
198) IN=L03_26 ;;
199) IN=L03_27 ;;
200) IN=L03_28 ;;
esac

module load bio/gatk/4.2.0.0
conda activate gatk
 gatk --java-options "-Xmx4g" HaplotypeCaller  \
   -R /scratch2/mkardos/methowWGS/resources/GCA_025558465.1_Omyk_2.0_genomic.fasta \
   -I ${IN}.RG.bam \
   -O ../../gvcf/${IN}.g.vcf.gz \
   -ERC GVCF

#!/bin/bash
#SBATCH --job-name=hap_caller_5
#SBATCH --output=../../logs/hap_caller_5.%A.%a.log
#SBATCH --array=1-200
#SBATCH --exclude=node[21-28]
#SBATCH -t 400:00:00
#SBATCH -c 1
#SBATCH -D /scratch2/mkardos/methowRAD/results/aligned/allSamps

case $SLURM_ARRAY_TASK_ID in
1) IN=L09_55 ;;
2) IN=L09_56 ;;
3) IN=L09_57 ;;
4) IN=L09_58 ;;
5) IN=L09_59 ;;
6) IN=L09_5 ;;
7) IN=L09_60 ;;
8) IN=L09_61 ;;
9) IN=L09_62 ;;
10) IN=L09_63 ;;
11) IN=L09_64 ;;
12) IN=L09_65 ;;
13) IN=L09_66 ;;
14) IN=L09_67 ;;
15) IN=L09_68 ;;
16) IN=L09_6 ;;
17) IN=L09_70 ;;
18) IN=L09_71 ;;
19) IN=L09_72 ;;
20) IN=L09_73 ;;
21) IN=L09_74 ;;
22) IN=L09_75 ;;
23) IN=L09_76 ;;
24) IN=L09_77 ;;
25) IN=L09_78 ;;
26) IN=L09_79 ;;
27) IN=L09_7 ;;
28) IN=L09_80 ;;
29) IN=L09_81 ;;
30) IN=L09_82 ;;
31) IN=L09_83 ;;
32) IN=L09_84 ;;
33) IN=L09_85 ;;
34) IN=L09_86 ;;
35) IN=L09_87 ;;
36) IN=L09_88 ;;
37) IN=L09_89 ;;
38) IN=L09_8 ;;
39) IN=L09_90 ;;
40) IN=L09_91 ;;
41) IN=L09_92 ;;
42) IN=L09_93 ;;
43) IN=L09_94 ;;
44) IN=L09_95 ;;
45) IN=L09_96 ;;
46) IN=L09_9 ;;
47) IN=L10_10 ;;
48) IN=L10_11 ;;
49) IN=L10_12 ;;
50) IN=L10_13 ;;
51) IN=L10_14 ;;
52) IN=L10_15 ;;
53) IN=L10_16 ;;
54) IN=L10_17 ;;
55) IN=L10_18 ;;
56) IN=L10_19 ;;
57) IN=L10_1 ;;
58) IN=L10_20 ;;
59) IN=L10_22 ;;
60) IN=L10_23 ;;
61) IN=L10_24 ;;
62) IN=L10_25 ;;
63) IN=L10_26 ;;
64) IN=L10_27 ;;
65) IN=L10_28 ;;
66) IN=L10_29 ;;
67) IN=L10_2 ;;
68) IN=L10_30 ;;
69) IN=L10_31 ;;
70) IN=L10_32 ;;
71) IN=L10_33 ;;
72) IN=L10_34 ;;
73) IN=L10_35 ;;
74) IN=L10_36 ;;
75) IN=L10_37 ;;
76) IN=L10_38 ;;
77) IN=L10_39 ;;
78) IN=L10_3 ;;
79) IN=L10_40 ;;
80) IN=L10_41 ;;
81) IN=L10_42 ;;
82) IN=L10_43 ;;
83) IN=L10_44 ;;
84) IN=L10_45 ;;
85) IN=L10_46 ;;
86) IN=L10_47 ;;
87) IN=L10_48 ;;
88) IN=L10_49 ;;
89) IN=L10_4 ;;
90) IN=L10_50 ;;
91) IN=L10_51 ;;
92) IN=L10_52 ;;
93) IN=L10_53 ;;
94) IN=L10_54 ;;
95) IN=L10_55 ;;
96) IN=L10_56 ;;
97) IN=L10_57 ;;
98) IN=L10_58 ;;
99) IN=L10_59 ;;
100) IN=L10_5 ;;
101) IN=L10_60 ;;
102) IN=L10_61 ;;
103) IN=L10_62 ;;
104) IN=L10_63 ;;
105) IN=L10_64 ;;
106) IN=L10_65 ;;
107) IN=L10_66 ;;
108) IN=L10_67 ;;
109) IN=L10_68 ;;
110) IN=L10_69 ;;
111) IN=L10_6 ;;
112) IN=L10_70 ;;
113) IN=L10_71 ;;
114) IN=L10_72 ;;
115) IN=L10_73 ;;
116) IN=L10_74 ;;
117) IN=L10_75 ;;
118) IN=L10_76 ;;
119) IN=L10_77 ;;
120) IN=L10_78 ;;
121) IN=L10_79 ;;
122) IN=L10_7 ;;
123) IN=L10_80 ;;
124) IN=L10_81 ;;
125) IN=L10_82 ;;
126) IN=L10_83 ;;
127) IN=L10_84 ;;
128) IN=L10_85 ;;
129) IN=L10_86 ;;
130) IN=L10_87 ;;
131) IN=L10_88 ;;
132) IN=L10_89 ;;
133) IN=L10_8 ;;
134) IN=L10_90 ;;
135) IN=L10_91 ;;
136) IN=L10_92 ;;
137) IN=L10_93 ;;
138) IN=L10_94 ;;
139) IN=L10_95 ;;
140) IN=L10_96 ;;
141) IN=L10_9 ;;
142) IN=L11_10 ;;
143) IN=L11_11 ;;
144) IN=L11_12 ;;
145) IN=L11_13 ;;
146) IN=L11_14 ;;
147) IN=L11_15 ;;
148) IN=L11_16 ;;
149) IN=L11_17 ;;
150) IN=L11_18 ;;
151) IN=L11_19 ;;
152) IN=L11_1 ;;
153) IN=L11_20 ;;
154) IN=L11_21 ;;
155) IN=L11_22 ;;
156) IN=L11_23 ;;
157) IN=L11_24 ;;
158) IN=L11_25 ;;
159) IN=L11_26 ;;
160) IN=L11_27 ;;
161) IN=L11_28 ;;
162) IN=L11_29 ;;
163) IN=L11_2 ;;
164) IN=L11_30 ;;
165) IN=L11_31 ;;
166) IN=L11_32 ;;
167) IN=L11_33 ;;
168) IN=L11_34 ;;
169) IN=L11_35 ;;
170) IN=L11_36 ;;
171) IN=L11_37 ;;
172) IN=L11_38 ;;
173) IN=L11_39 ;;
174) IN=L11_3 ;;
175) IN=L11_40 ;;
176) IN=L11_41 ;;
177) IN=L11_42 ;;
178) IN=L11_43 ;;
179) IN=L11_44 ;;
180) IN=L11_45 ;;
181) IN=L11_46 ;;
182) IN=L11_47 ;;
183) IN=L11_48 ;;
184) IN=L11_49 ;;
185) IN=L11_4 ;;
186) IN=L11_50 ;;
187) IN=L11_51 ;;
188) IN=L11_52 ;;
189) IN=L11_53 ;;
190) IN=L11_54 ;;
191) IN=L11_55 ;;
192) IN=L11_56 ;;
193) IN=L11_57 ;;
194) IN=L11_58 ;;
195) IN=L11_59 ;;
196) IN=L11_5 ;;
197) IN=L11_60 ;;
198) IN=L11_61 ;;
199) IN=L11_62 ;;
200) IN=L11_63 ;;
esac

module load bio/gatk/4.2.0.0
conda activate gatk
 gatk --java-options "-Xmx4g" HaplotypeCaller  \
   -R /scratch2/mkardos/methowWGS/resources/GCA_025558465.1_Omyk_2.0_genomic.fasta \
   -I ${IN}.RG.bam \
   -O ../../gvcf/${IN}.g.vcf.gz \
   -ERC GVCF

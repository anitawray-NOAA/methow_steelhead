#!/bin/bash
#SBATCH --job-name=hap_caller_2
#SBATCH --output=../../logs/hap_caller_2.%A.%a.log
#SBATCH --array=1-200
#SBATCH -t 400:00:00
#SBATCH -c 1
#SBATCH -D /scratch2/mkardos/methowRAD/results/aligned/allSamps

case $SLURM_ARRAY_TASK_ID in
1) IN=L03_29 ;;
2) IN=L03_2 ;;
3) IN=L03_30 ;;
4) IN=L03_31 ;;
5) IN=L03_32 ;;
6) IN=L03_33 ;;
7) IN=L03_34 ;;
8) IN=L03_35 ;;
9) IN=L03_36 ;;
10) IN=L03_37 ;;
11) IN=L03_38 ;;
12) IN=L03_39 ;;
13) IN=L03_3 ;;
14) IN=L03_40 ;;
15) IN=L03_41 ;;
16) IN=L03_42 ;;
17) IN=L03_43 ;;
18) IN=L03_44 ;;
19) IN=L03_45 ;;
20) IN=L03_46 ;;
21) IN=L03_47 ;;
22) IN=L03_48 ;;
23) IN=L03_49 ;;
24) IN=L03_4 ;;
25) IN=L03_50 ;;
26) IN=L03_51 ;;
27) IN=L03_52 ;;
28) IN=L03_53 ;;
29) IN=L03_54 ;;
30) IN=L03_55 ;;
31) IN=L03_56 ;;
32) IN=L03_57 ;;
33) IN=L03_58 ;;
34) IN=L03_59 ;;
35) IN=L03_5 ;;
36) IN=L03_60 ;;
37) IN=L03_61 ;;
38) IN=L03_62 ;;
39) IN=L03_63 ;;
40) IN=L03_64 ;;
41) IN=L03_65 ;;
42) IN=L03_66 ;;
43) IN=L03_67 ;;
44) IN=L03_68 ;;
45) IN=L03_69 ;;
46) IN=L03_6 ;;
47) IN=L03_70 ;;
48) IN=L03_71 ;;
49) IN=L03_72 ;;
50) IN=L03_73 ;;
51) IN=L03_74 ;;
52) IN=L03_76 ;;
53) IN=L03_77 ;;
54) IN=L03_78 ;;
55) IN=L03_79 ;;
56) IN=L03_7 ;;
57) IN=L03_80 ;;
58) IN=L03_81 ;;
59) IN=L03_82 ;;
60) IN=L03_83 ;;
61) IN=L03_84 ;;
62) IN=L03_85 ;;
63) IN=L03_86 ;;
64) IN=L03_87 ;;
65) IN=L03_88 ;;
66) IN=L03_89 ;;
67) IN=L03_8 ;;
68) IN=L03_90 ;;
69) IN=L03_91 ;;
70) IN=L03_92 ;;
71) IN=L03_93 ;;
72) IN=L03_94 ;;
73) IN=L03_95 ;;
74) IN=L03_96 ;;
75) IN=L03_9 ;;
76) IN=L04_10 ;;
77) IN=L04_11 ;;
78) IN=L04_12 ;;
79) IN=L04_13 ;;
80) IN=L04_14 ;;
81) IN=L04_15 ;;
82) IN=L04_16 ;;
83) IN=L04_17 ;;
84) IN=L04_18 ;;
85) IN=L04_19 ;;
86) IN=L04_1 ;;
87) IN=L04_20 ;;
88) IN=L04_21 ;;
89) IN=L04_22 ;;
90) IN=L04_23 ;;
91) IN=L04_24 ;;
92) IN=L04_25 ;;
93) IN=L04_26 ;;
94) IN=L04_27 ;;
95) IN=L04_28 ;;
96) IN=L04_29 ;;
97) IN=L04_2 ;;
98) IN=L04_30 ;;
99) IN=L04_31 ;;
100) IN=L04_32 ;;
101) IN=L04_33 ;;
102) IN=L04_34 ;;
103) IN=L04_35 ;;
104) IN=L04_36 ;;
105) IN=L04_37 ;;
106) IN=L04_38 ;;
107) IN=L04_39 ;;
108) IN=L04_3 ;;
109) IN=L04_40 ;;
110) IN=L04_41 ;;
111) IN=L04_42 ;;
112) IN=L04_43 ;;
113) IN=L04_44 ;;
114) IN=L04_45 ;;
115) IN=L04_46 ;;
116) IN=L04_47 ;;
117) IN=L04_48 ;;
118) IN=L04_49 ;;
119) IN=L04_4 ;;
120) IN=L04_50 ;;
121) IN=L04_51 ;;
122) IN=L04_52 ;;
123) IN=L04_53 ;;
124) IN=L04_54 ;;
125) IN=L04_55 ;;
126) IN=L04_56 ;;
127) IN=L04_57 ;;
128) IN=L04_58 ;;
129) IN=L04_59 ;;
130) IN=L04_5 ;;
131) IN=L04_60 ;;
132) IN=L04_61 ;;
133) IN=L04_62 ;;
134) IN=L04_63 ;;
135) IN=L04_64 ;;
136) IN=L04_65 ;;
137) IN=L04_66 ;;
138) IN=L04_67 ;;
139) IN=L04_68 ;;
140) IN=L04_69 ;;
141) IN=L04_6 ;;
142) IN=L04_70 ;;
143) IN=L04_71 ;;
144) IN=L04_72 ;;
145) IN=L04_73 ;;
146) IN=L04_74 ;;
147) IN=L04_75 ;;
148) IN=L04_76 ;;
149) IN=L04_77 ;;
150) IN=L04_78 ;;
151) IN=L04_79 ;;
152) IN=L04_7 ;;
153) IN=L04_80 ;;
154) IN=L04_81 ;;
155) IN=L04_82 ;;
156) IN=L04_83 ;;
157) IN=L04_84 ;;
158) IN=L04_85 ;;
159) IN=L04_86 ;;
160) IN=L04_87 ;;
161) IN=L04_88 ;;
162) IN=L04_89 ;;
163) IN=L04_8 ;;
164) IN=L04_90 ;;
165) IN=L04_91 ;;
166) IN=L04_92 ;;
167) IN=L04_93 ;;
168) IN=L04_94 ;;
169) IN=L04_95 ;;
170) IN=L04_96 ;;
171) IN=L04_9 ;;
172) IN=L05_10 ;;
173) IN=L05_11 ;;
174) IN=L05_12 ;;
175) IN=L05_13 ;;
176) IN=L05_14 ;;
177) IN=L05_15 ;;
178) IN=L05_16 ;;
179) IN=L05_17 ;;
180) IN=L05_18 ;;
181) IN=L05_19 ;;
182) IN=L05_1 ;;
183) IN=L05_20 ;;
184) IN=L05_21 ;;
185) IN=L05_23 ;;
186) IN=L05_24 ;;
187) IN=L05_25 ;;
188) IN=L05_26 ;;
189) IN=L05_27 ;;
190) IN=L05_28 ;;
191) IN=L05_29 ;;
192) IN=L05_2 ;;
193) IN=L05_30 ;;
194) IN=L05_31 ;;
195) IN=L05_32 ;;
196) IN=L05_33 ;;
197) IN=L05_34 ;;
198) IN=L05_35 ;;
199) IN=L05_36 ;;
200) IN=L05_37 ;;
esac

module load bio/gatk/4.2.0.0
conda activate gatk
 gatk --java-options "-Xmx4g" HaplotypeCaller  \
   -R /scratch2/mkardos/methowWGS/resources/GCA_025558465.1_Omyk_2.0_genomic.fasta \
   -I ${IN}.RG.bam \
   -O ../../gvcf/${IN}.g.vcf.gz \
   -ERC GVCF

#!/bin/bash
#SBATCH --job-name=hap_caller_3
#SBATCH --output=../../logs/hap_caller_3.%A.%a.log
#SBATCH --array=1-200
#SBATCH --exclude=node[12-28]
#SBATCH -t 400:00:00
#SBATCH -c 1
#SBATCH -D /scratch2/mkardos/methowRAD/results/aligned/allSamps

case $SLURM_ARRAY_TASK_ID in
1) IN=L05_38 ;;
2) IN=L05_39 ;;
3) IN=L05_3 ;;
4) IN=L05_40 ;;
5) IN=L05_41 ;;
6) IN=L05_42 ;;
7) IN=L05_43 ;;
8) IN=L05_44 ;;
9) IN=L05_45 ;;
10) IN=L05_46 ;;
11) IN=L05_47 ;;
12) IN=L05_48 ;;
13) IN=L05_49 ;;
14) IN=L05_4 ;;
15) IN=L05_50 ;;
16) IN=L05_51 ;;
17) IN=L05_52 ;;
18) IN=L05_53 ;;
19) IN=L05_54 ;;
20) IN=L05_55 ;;
21) IN=L05_56 ;;
22) IN=L05_57 ;;
23) IN=L05_58 ;;
24) IN=L05_59 ;;
25) IN=L05_5 ;;
26) IN=L05_60 ;;
27) IN=L05_61 ;;
28) IN=L05_62 ;;
29) IN=L05_63 ;;
30) IN=L05_64 ;;
31) IN=L05_65 ;;
32) IN=L05_66 ;;
33) IN=L05_67 ;;
34) IN=L05_68 ;;
35) IN=L05_69 ;;
36) IN=L05_6 ;;
37) IN=L05_70 ;;
38) IN=L05_71 ;;
39) IN=L05_72 ;;
40) IN=L05_73 ;;
41) IN=L05_74 ;;
42) IN=L05_75 ;;
43) IN=L05_76 ;;
44) IN=L05_77 ;;
45) IN=L05_78 ;;
46) IN=L05_79 ;;
47) IN=L05_7 ;;
48) IN=L05_80 ;;
49) IN=L05_81 ;;
50) IN=L05_82 ;;
51) IN=L05_83 ;;
52) IN=L05_84 ;;
53) IN=L05_85 ;;
54) IN=L05_86 ;;
55) IN=L05_87 ;;
56) IN=L05_88 ;;
57) IN=L05_89 ;;
58) IN=L05_8 ;;
59) IN=L05_90 ;;
60) IN=L05_91 ;;
61) IN=L05_92 ;;
62) IN=L05_93 ;;
63) IN=L05_94 ;;
64) IN=L05_95 ;;
65) IN=L05_96 ;;
66) IN=L05_9 ;;
67) IN=L06_10 ;;
68) IN=L06_11 ;;
69) IN=L06_12 ;;
70) IN=L06_13 ;;
71) IN=L06_14 ;;
72) IN=L06_15 ;;
73) IN=L06_16 ;;
74) IN=L06_17 ;;
75) IN=L06_18 ;;
76) IN=L06_19 ;;
77) IN=L06_1 ;;
78) IN=L06_20 ;;
79) IN=L06_21 ;;
80) IN=L06_22 ;;
81) IN=L06_23 ;;
82) IN=L06_24 ;;
83) IN=L06_25 ;;
84) IN=L06_26 ;;
85) IN=L06_27 ;;
86) IN=L06_28 ;;
87) IN=L06_29 ;;
88) IN=L06_2 ;;
89) IN=L06_30 ;;
90) IN=L06_31 ;;
91) IN=L06_32 ;;
92) IN=L06_33 ;;
93) IN=L06_34 ;;
94) IN=L06_35 ;;
95) IN=L06_36 ;;
96) IN=L06_37 ;;
97) IN=L06_38 ;;
98) IN=L06_39 ;;
99) IN=L06_3 ;;
100) IN=L06_40 ;;
101) IN=L06_41 ;;
102) IN=L06_42 ;;
103) IN=L06_43 ;;
104) IN=L06_44 ;;
105) IN=L06_45 ;;
106) IN=L06_46 ;;
107) IN=L06_47 ;;
108) IN=L06_48 ;;
109) IN=L06_49 ;;
110) IN=L06_4 ;;
111) IN=L06_50 ;;
112) IN=L06_51 ;;
113) IN=L06_52 ;;
114) IN=L06_53 ;;
115) IN=L06_54 ;;
116) IN=L06_55 ;;
117) IN=L06_56 ;;
118) IN=L06_57 ;;
119) IN=L06_58 ;;
120) IN=L06_59 ;;
121) IN=L06_5 ;;
122) IN=L06_61 ;;
123) IN=L06_62 ;;
124) IN=L06_63 ;;
125) IN=L06_64 ;;
126) IN=L06_65 ;;
127) IN=L06_66 ;;
128) IN=L06_67 ;;
129) IN=L06_68 ;;
130) IN=L06_69 ;;
131) IN=L06_6 ;;
132) IN=L06_70 ;;
133) IN=L06_71 ;;
134) IN=L06_72 ;;
135) IN=L06_73 ;;
136) IN=L06_74 ;;
137) IN=L06_75 ;;
138) IN=L06_76 ;;
139) IN=L06_77 ;;
140) IN=L06_78 ;;
141) IN=L06_79 ;;
142) IN=L06_7 ;;
143) IN=L06_80 ;;
144) IN=L06_81 ;;
145) IN=L06_82 ;;
146) IN=L06_83 ;;
147) IN=L06_84 ;;
148) IN=L06_85 ;;
149) IN=L06_86 ;;
150) IN=L06_87 ;;
151) IN=L06_88 ;;
152) IN=L06_89 ;;
153) IN=L06_8 ;;
154) IN=L06_90 ;;
155) IN=L06_91 ;;
156) IN=L06_92 ;;
157) IN=L06_93 ;;
158) IN=L06_94 ;;
159) IN=L06_95 ;;
160) IN=L06_96 ;;
161) IN=L06_9 ;;
162) IN=L07_10 ;;
163) IN=L07_11 ;;
164) IN=L07_12 ;;
165) IN=L07_13 ;;
166) IN=L07_14 ;;
167) IN=L07_15 ;;
168) IN=L07_16 ;;
169) IN=L07_17 ;;
170) IN=L07_18 ;;
171) IN=L07_19 ;;
172) IN=L07_1 ;;
173) IN=L07_20 ;;
174) IN=L07_21 ;;
175) IN=L07_22 ;;
176) IN=L07_23 ;;
177) IN=L07_24 ;;
178) IN=L07_25 ;;
179) IN=L07_26 ;;
180) IN=L07_27 ;;
181) IN=L07_28 ;;
182) IN=L07_29 ;;
183) IN=L07_2 ;;
184) IN=L07_30 ;;
185) IN=L07_31 ;;
186) IN=L07_32 ;;
187) IN=L07_33 ;;
188) IN=L07_34 ;;
189) IN=L07_35 ;;
190) IN=L07_36 ;;
191) IN=L07_37 ;;
192) IN=L07_38 ;;
193) IN=L07_39 ;;
194) IN=L07_3 ;;
195) IN=L07_40 ;;
196) IN=L07_41 ;;
197) IN=L07_42 ;;
198) IN=L07_43 ;;
199) IN=L07_44 ;;
200) IN=L07_45 ;;
esac

module load bio/gatk/4.2.0.0
conda activate gatk
 gatk --java-options "-Xmx4g" HaplotypeCaller  \
   -R /scratch2/mkardos/methowWGS/resources/GCA_025558465.1_Omyk_2.0_genomic.fasta \
   -I ${IN}.RG.bam \
   -O ../../gvcf/${IN}.g.vcf.gz \
   -ERC GVCF
